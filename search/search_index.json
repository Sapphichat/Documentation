{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"\ud83c\udff3\ufe0f\u200d\ud83c\udf08 Welcome to the Sapphichat documentation!","text":"<p>Sapphichat is a modern communication platform (that doesn't exist yet...) designed for secure and efficient messaging.</p> <p>\ud83d\udea8 EU Chat Control Law</p> <p>Are you scared by the potential new EU law about Chat Control? We are too.</p> <p>We sincerely believe that privacy is a fundamental human right, and we are committed to building a platform that respects and protects user privacy.</p> <p>We will do everything we can to ensure that Sapphichat is a safe and secure communication tool for everyone. That's a promise.</p> <p>Sapphichat is a work in progress, we need your help!</p> <p>This documentation is a work in progress. If you find any issues or have suggestions, please contribute to the project on GitHub. This project is relatively new, and we are looking for contributors to help us improve it.</p> <p>This documentation will help you understand how to use Sapphichat and SapphiTalk effectively.</p>"},{"location":"#our-goal","title":"Our goal","text":"<p>Unlike Matrix or other messaging protocols (which can require four or more Docker containers to run \ud83d\udc80), we want Sapphichat to be simple to deploy on a server. By running a single command and connecting to the server with a client (GUI) to configure it, you can access a fully functional chat server. Federation is optional and can be enabled if needed.</p>"},{"location":"#sapphichat-software-structure","title":"Sapphichat software structure","text":"<p>Our goal is to provide a complete chat solution, including:</p>"},{"location":"#active-planned-modules","title":"Active / Planned Modules","text":"Module Description Language / Technology Progress Status Sapphichat-backend Implementation of SapphiTalk &amp; SapphiTalk+ protocols with SQLite and PostgreSQL support Node.js, Express Thinking... \ud83d\udcad Sapphichat-CLI Command-line interface client for developers to test the protocol Node.js or Python Thinking... \ud83d\udcad Sapphichat-web Web client for Sapphichat Node.js, EJS and Express Thinking... \ud83d\udcad Sapphichat-iOS iOS client for Sapphichat Swift Thinking... \ud83d\udcad Sapphichat-Android Android client for Sapphichat Kotlin Thinking... \ud83d\udcad"},{"location":"#obsolete-modules","title":"Obsolete Modules","text":"Module Description Language / Technology Progress Status Sapphichat-backendv1 Implementation of SapphiTalk with only SQLite support Node.js Obsolete \ud83d\udeab Sapphichat-iOSv1 iOS client for Sapphichat written in Swift Swift Obsolete \ud83d\udeab"},{"location":"contact/","title":"Contact","text":"<p>If you have questions or suggestions about Sapphichat, feel free to contact us. You can reach us through the following means:</p> <ul> <li>GitHub Discussions : Sapphichat Discussions</li> </ul> <p>Or contact the Sapphichat team directly:</p> <ul> <li>Elodie : On her website</li> </ul>"},{"location":"license/","title":"License","text":""},{"location":"license/#gnu-general-public-license-v30","title":"GNU General Public License v3.0","text":"<p>Sapphichat is licensed under the GNU General Public License v3.0 (GPL-3.0).</p>"},{"location":"license/#what-does-this-mean","title":"What does this mean?","text":"<p>GPL v3 guarantees that:</p> <ul> <li>\u2705 Freedom to use: You can use this software for any purpose</li> <li>\u2705 Freedom to study: You can study and modify the source code</li> <li>\u2705 Freedom to redistribute: You can redistribute copies</li> <li>\u2705 Freedom to improve: You can distribute your modifications</li> </ul>"},{"location":"license/#important-conditions","title":"Important conditions","text":"<ul> <li>\ud83d\udccb Copyleft: Any derivative work must also be under GPL v3</li> <li>\ud83d\udccb Source code: Source code must be available</li> <li>\ud83d\udccb Same license: Modifications must use the same license</li> <li>\ud83d\udccb Attribution: You must retain copyright notices</li> </ul>"},{"location":"license/#why-gpl-v3","title":"Why GPL v3?","text":"<p>We chose GPL v3 to:</p> <ol> <li>Protect the community: Ensure improvements remain open</li> <li>Prevent appropriation: Discourage closed, proprietary use</li> <li>Encourage contribution: Incentivize sharing improvements</li> <li>Maintain openness: Guarantee the project remains open source</li> </ol>"},{"location":"license/#full-license-text","title":"Full license text","text":"<p>The full text of the GNU General Public License v3.0 is available at: https://www.gnu.org/licenses/gpl-3.0.html</p>"},{"location":"license/#frequently-asked-questions","title":"Frequently Asked Questions","text":"<p>Q: Can I use Sapphichat in a commercial project? A: Yes, but if you distribute your project, it must also be under GPL v3.</p> <p>Q: Can I modify the code? A: Yes, you can modify the code. If you distribute your modifications, they must be under GPL v3.</p> <p>Q: Do I have to share my modifications? A: Only if you distribute your modified version. Private use does not require sharing.</p> <p>This page provides an overview of the license. For complete legal details, consult the official license text.</p>"},{"location":"legal/privacy/","title":"Privacy Policy","text":"<p>Last updated: August 3, 2025</p>"},{"location":"legal/privacy/#overview","title":"Overview","text":"<p>Sapphichat is a decentralized and federated platform. This Privacy Policy explains how information is handled within our network and clarifies the data practices of our team and the broader federation.</p>"},{"location":"legal/privacy/#data-collection-by-sapphichat-team","title":"Data Collection by Sapphichat Team","text":"<p>We do not collect, store, or process any personal data. As the developers of Sapphichat, our team:</p> <ul> <li>Does not operate centralized servers that store user data</li> <li>Does not track user activity across the network</li> <li>Does not collect analytics or usage statistics</li> <li>Does not store user profiles, messages, or metadata</li> <li>Does not use cookies or tracking technologies</li> </ul>"},{"location":"legal/privacy/#decentralized-nature","title":"Decentralized Nature","text":"<p>Sapphichat operates on a federated model where:</p> <ul> <li>Each instance/server is operated independently by different administrators</li> <li>Data is stored locally on the instance you choose to join</li> <li>Your data remains under the control of your chosen instance administrator</li> <li>We have no access to or control over data on individual instances</li> </ul>"},{"location":"legal/privacy/#what-instance-administrators-may-collect","title":"What Instance Administrators May Collect","text":"<p>When you join a Sapphichat instance, the instance administrator may collect and store:</p> <ul> <li>Account information (username, email, profile details)</li> <li>Messages and content you post</li> <li>Connection and activity logs</li> <li>Technical information (IP addresses, device information)</li> </ul> <p>Important</p> <p>Each instance has its own privacy policy and data handling practices. Please review the privacy policy of your chosen instance.</p>"},{"location":"legal/privacy/#data-sharing-in-federation","title":"Data Sharing in Federation","text":"<p>Due to the federated nature of Sapphichat:</p> <ul> <li>Your messages in groups may be shared with other federated instances (if the group is public and members of the group are from different instances)</li> <li>Other instances may cache your public content</li> <li>Private messages are only shared with intended recipients' instances</li> <li>Instance administrators control what data their instance shares</li> </ul>"},{"location":"legal/privacy/#your-rights-and-choices","title":"Your Rights and Choices","text":"<ul> <li>Choose Your Instance: Select an instance whose privacy practices align with your preferences</li> <li>Data Portability: You can export your data and move to another instance</li> <li>Content Control: You control the visibility of your posts (public, private, direct)</li> <li>Account Deletion: Contact your instance administrator to delete your account</li> </ul>"},{"location":"legal/privacy/#open-source-transparency","title":"Open Source Transparency","text":"<p>Sapphichat is open source software:</p> <ul> <li>The code is publicly available for audit</li> <li>Security researchers can review our privacy implementations</li> <li>No hidden data collection mechanisms exist in the codebase</li> </ul>"},{"location":"legal/privacy/#contact-information","title":"Contact Information","text":"<p>For questions about this privacy policy or Sapphichat's development, please see this page.</p> <p>For data-related inquiries about your specific account, please contact your instance administrator directly.</p>"},{"location":"legal/privacy/#changes-to-this-policy","title":"Changes to This Policy","text":"<p>This privacy policy may be updated to reflect changes in our development practices or legal requirements. Check the \"Last updated\" date at the top of this page for the most recent version.</p>"},{"location":"legal/privacy/#third-party-services","title":"Third-Party Services","text":"<p>Individual instances may use third-party services (hosting providers, CDNs, etc.). These services have their own privacy policies that instance administrators should disclose to their users.</p> <p>Note</p> <p>This privacy policy applies specifically to the Sapphichat development team and software. Individual instance operators are responsible for their own privacy policies and data handling practices.</p>"},{"location":"legal/terms/","title":"Responsibility Disclaimer","text":"<p>Last updated: August 3, 2025</p> <p>Sapphichat and the SapphiTalk/SapphiTalk+ protocols are provided \"as is\" and \"as available\" without any warranties of any kind, either express or implied. This includes, but is not limited to, warranties of merchantability, fitness for a particular purpose, non-infringement, security, reliability, or availability.</p> <p>By using Sapphichat and/or the SapphiTalk/SapphiTalk+ protocols, you acknowledge and agree that you do so entirely at your own risk. You are solely responsible for any consequences that may result from the use of this software and/or protocols, including but not limited to data loss, security breaches, or any other damages.</p> <p>The Sapphichat team shall not be liable for any direct, indirect, incidental, special, consequential, or exemplary damages, including but not limited to loss of profits, goodwill, use, data, or other intangible losses, resulting from:</p> <ul> <li>The use or the inability to use Sapphichat and/or the SapphiTalk/SapphiTalk+ protocols,</li> <li>Unauthorized access to or alteration of your transmissions or data,</li> <li>Any other matter relating to the Sapphichat software or SapphiTalk/SapphiTalk+ protocols.</li> </ul> <p>Additionally, the Sapphichat team does NOT monitor, control, or take responsibility for any content shared, transmitted, or stored through the SapphiTalk/SapphiTalk+ protocol. Users are entirely responsible for their own content and interactions. The Sapphichat team disclaims all responsibility and liability for any unlawful, harmful, or offensive content transmitted through the network.</p> <p>By using Sapphichat and/or the SapphiTalk/SapphiTalk+ protocols, you agree to indemnify and hold harmless the Sapphichat team from any claims, damages, losses, liabilities, costs, and expenses arising from your use of the software, the protocols, or your violation of these terms.</p>"},{"location":"legal/terms/#deni-de-responsabilite","title":"D\u00e9ni de responsabilit\u00e9","text":"<p>Derni\u00e8re mise \u00e0 jour : 3 ao\u00fbt 2025</p> <p>Sapphichat et les protocoles SapphiTalk/SapphiTalk+ sont fournis \"tel quel\" et \"selon disponibilit\u00e9\" sans garantie d'aucune sorte, qu'elle soit expresse ou implicite. Cela inclut, sans s'y limiter, les garanties de qualit\u00e9 marchande, d'ad\u00e9quation \u00e0 un usage particulier, de non-contrefa\u00e7on, de s\u00e9curit\u00e9, de fiabilit\u00e9 ou de disponibilit\u00e9.</p> <p>En utilisant Sapphichat et/ou les protocoles SapphiTalk/SapphiTalk+, vous reconnaissez et acceptez de le faire enti\u00e8rement \u00e0 vos propres risques. Vous \u00eates seul responsable de toutes les cons\u00e9quences qui peuvent r\u00e9sulter de l'utilisation de ce logiciel et/ou des protocoles, y compris mais sans s'y limiter la perte de donn\u00e9es, les failles de s\u00e9curit\u00e9 ou tout autre dommage.</p> <p>L'\u00e9quipe Sapphichat ne sera pas responsable de tout dommage direct, indirect, accessoire, sp\u00e9cial, cons\u00e9cutif ou exemplaire, y compris mais sans s'y limiter la perte de profits, de client\u00e8le, d'usage, de donn\u00e9es ou autres pertes intangibles, r\u00e9sultant de :</p> <ul> <li>L'utilisation ou l'incapacit\u00e9 d'utiliser Sapphichat et/ou les protocoles SapphiTalk/SapphiTalk+,</li> <li>L'acc\u00e8s non autoris\u00e9 \u00e0 vos transmissions ou donn\u00e9es ou leur alt\u00e9ration,</li> <li>Toute autre question relative au logiciel Sapphichat ou aux protocoles SapphiTalk/SapphiTalk+.</li> </ul> <p>De plus, l'\u00e9quipe Sapphichat ne surveille PAS, ne contr\u00f4le PAS et ne prend PAS la responsabilit\u00e9 de tout contenu partag\u00e9, transmis ou stock\u00e9 via le protocole SapphiTalk/SapphiTalk+. Les utilisateurs sont enti\u00e8rement responsables de leur propre contenu et de leurs interactions. L'\u00e9quipe Sapphichat d\u00e9cline toute responsabilit\u00e9 pour tout contenu ill\u00e9gal, nuisible ou offensant transmis via le r\u00e9seau.</p> <p>En utilisant Sapphichat et/ou les protocoles SapphiTalk/SapphiTalk+, vous acceptez d'indemniser et de d\u00e9gager de toute responsabilit\u00e9 l'\u00e9quipe Sapphichat contre toute r\u00e9clamation, dommage, perte, responsabilit\u00e9, co\u00fbt et d\u00e9pense d\u00e9coulant de votre utilisation du logiciel, des protocoles ou de votre violation de ces conditions.</p>"},{"location":"protocol/","title":"Protocol","text":""},{"location":"protocol/#sapphichat-communication-protocol","title":"Sapphichat Communication Protocol","text":"<p>This section describes the technical specifications and communication protocols used by Sapphichat.</p>"},{"location":"protocol/#overview","title":"Overview","text":"<p>Sapphichat is a very simple and understandable protocol designed for secure and efficient messaging.</p> <p>SapphiTalk is the base of the protocol. It implements the core features of Sapphichat, while SapphiTalk+ extends it with additional functionalities like federation.</p> Feature SapphiTalk SapphiTalk+ Core Messaging \u2705 \u2705 Presence Indicators \u2705 \u2705 Message History \u2705 \u2705 End-to-End Encryption \u2705 \u2705 Socket.IO Support \u2705 \u2705 Federation Support \u274c \u2705 <p>We have chosen to make a distinction between SapphiTalk and SapphiTalk+ to allow for a simpler implementation of the core features while providing an option for advanced users to use federation capabilities.</p> <p>Not every user needs federation, and SapphiTalk is designed to be easy to deploy and use without it.</p>"},{"location":"protocol/#key-features","title":"Key Features","text":"<ul> <li>Simple to deploy a server and connect clients </li> <li>Real-time messaging</li> <li>Group chat support</li> <li>File sharing capabilities</li> <li>Presence indicators</li> <li>Message history synchronization</li> <li>End-to-end encryption</li> <li>Support for multiple platforms (CLI, web, mobile, desktop)</li> <li>Easy to update, backup and restore data</li> </ul>"},{"location":"protocol/#user-identification","title":"User identification","text":"<ul> <li>Users are identified by their unique usernames, which are case-sensitive. Usernames can contain only lowercase letters and must be at least 1 character and at most 16 characters long. Usernames are not allowed to contain spaces or special characters.</li> <li>An account can have a display name, which is used to identify the user in the chat. The display name can be changed at any time and is not required to be unique. It can contain letters, numbers, spaces, and special characters.</li> <li>Passwords are mandatory, and must be securely stored and hashed on the server side. Passwords must be at least 8 characters long and contain at least one uppercase letter, one lowercase letter, one number, and one special character.</li> </ul>"},{"location":"protocol/#identification-format","title":"Identification Format","text":"<ul> <li> <p>Users are identified by the following format: <pre><code>@username@instance.tld\n</code></pre> Where <code>username</code> is the username of the user and <code>instance</code> is the server instance (e.g., <code>sapphichat.example.com</code>).</p> </li> <li> <p>Groups are identified by the following format: <pre><code>#groupname@instance.tld\n</code></pre> Where <code>groupname</code> is the name of the group and <code>instance</code> is the server instance (e.g., <code>sapphichat.example.com</code>).</p> </li> <li> <p>DMs (Direct Messages) are identified by the following format: <pre><code>@username1@instance1.tld &gt; @username2@instance2.tld\n</code></pre> Where <code>username1</code> and <code>username2</code> are the usernames of the users and <code>instance1</code> and <code>instance2</code> are the server instances (e.g., <code>sapphichat.example.com</code>).</p> </li> </ul> <p>The order of the usernames in the DM identifier does not matter, as it is a direct message between two users.</p>"},{"location":"protocol/#api-documentation","title":"API Documentation","text":"<p>Continue reading the endpoints section for detailed API endpoints and usage examples.</p>"},{"location":"protocol/error-codes/","title":"Error codes","text":""},{"location":"protocol/error-codes/#coming-soon","title":"Coming soon","text":""},{"location":"protocol/endpoints/","title":"SapphiTalk REST API Endpoints","text":"<p>This section describes the endpoints used in the SapphiTalk protocol for communication between clients and servers.</p> <p>Protocol Version</p> <p>The SapphiTalk/SapphiTalk+ protocol is currently at version 0.0.1. If an update is published, you\u2019ll need to update your implementation.</p>"},{"location":"protocol/endpoints/#api-url-structure","title":"API URL Structure","text":"<p>The API URL is structured as follows:</p> <pre><code>https://&lt;instance&gt;/api/&lt;endpoint&gt;\n</code></pre> <p>For example, to register a new account, you would use the endpoint:</p> <pre><code>https://&lt;instance&gt;/api/account/register\n</code></pre>"},{"location":"protocol/endpoints/#endpoint-organization","title":"Endpoint Organization","text":"<p>Endpoints are organized by categories:</p> <ul> <li>Base API - Root endpoint providing API information</li> <li>Authentication - User account and session management</li> <li>Conversations - Conversation creation and management</li> <li>Messages - Message sending and management</li> </ul>"},{"location":"protocol/endpoints/#conventions","title":"Conventions","text":""},{"location":"protocol/endpoints/#id","title":"ID","text":"<p>IDs in the API must be UUIDv4 and unique across the entire system.</p> <p>Warning</p> <p>For federation, your instance must verify that any received ID is a valid UUIDv4.</p>"},{"location":"protocol/endpoints/#http-methods","title":"HTTP Methods","text":"<ul> <li><code>GET</code> - Data retrieval</li> <li><code>POST</code> - Creating new resources</li> <li><code>PUT</code> - Updating existing resources</li> <li><code>DELETE</code> - Deleting resources</li> </ul>"},{"location":"protocol/endpoints/#authentication","title":"Authentication","text":"<ul> <li>\u2705 Authentication required - Endpoint requires a valid session token</li> <li>\u274c No authentication - Endpoint is accessible without authentication</li> </ul>"},{"location":"protocol/endpoints/#response-format","title":"Response Format","text":"<p>All API responses follow a consistent JSON format: <pre><code>{\n  \"success\": boolean,\n  \"message\": \"string (optional)\",\n  \"data\": \"object (optional)\",\n  \"error\": \"string (optional, only when success is false)\"\n}\n</code></pre></p>"},{"location":"protocol/endpoints/#success-response","title":"Success Response","text":"<pre><code>{\n  \"success\": true,\n  \"data\": {\n    // Response data here\n  }\n}\n</code></pre>"},{"location":"protocol/endpoints/#error-response","title":"Error Response","text":"<pre><code>{\n  \"success\": false,\n  \"error\": \"Error message\",\n  \"code\": \"ERROR_CODE\"\n}\n</code></pre>"},{"location":"protocol/endpoints/authentication/","title":"Account Endpoints","text":"<p>Account endpoints handle account creation, login, and user session management.</p>"},{"location":"protocol/endpoints/authentication/#account-management","title":"Account Management","text":""},{"location":"protocol/endpoints/authentication/#register-new-account","title":"Register New Account","text":"Endpoint Method Description Auth Required Notes <code>/account/register</code> <code>POST</code> Register a new user account \u274c No Terms of service must be accepted <p>URL Example: <pre><code>POST https://instance.tld/api/account/register\n</code></pre></p> <p>Request Body: <pre><code>{\n  \"username\": \"string\", // Mandatory\n  \"displayName\": \"string\", // Mandatory\n  \"password\": \"string\", // Mandatory\n  \"tos\": true // Mandatory\n}\n</code></pre></p> <p>Response Example: <pre><code>{\n  \"success\": true,\n  \"data\": {\n    \"message\": \"Account created successfully\",\n    \"userId\": \"user-123\",\n    \"identity\": \"@username@instance.tld\"\n  }\n}\n</code></pre></p>"},{"location":"protocol/endpoints/authentication/#user-login","title":"User Login","text":"Endpoint Method Description Auth Required Notes <code>/account/login</code> <code>POST</code> Authenticate user and obtain session token \u274c No Username format: @username@instance.tld <p>URL Example: <pre><code>POST https://instance.tld/api/account/login\n</code></pre></p> <p>Request Body: <pre><code>{\n  \"identity\": \"@username@instance.tld\", // Mandatory\n  \"password\": \"string\" // Mandatory\n}\n</code></pre></p> <p>Response Example: <pre><code>{\n  \"success\": true,\n  \"data\": {\n    \"token\": \"session-token-here\",\n    \"identity\": \"@username@instance.tld\",\n    \"expiresAt\": \"2025-08-10T12:00:00Z\"\n  }\n}\n</code></pre></p> <p>This token must be provided in the <code>Authorization</code> header as a Bearer token on endpoints that require authentication. Store this token in a safe place.</p>"},{"location":"protocol/endpoints/authentication/#edit-account-information","title":"Edit Account Information","text":"Endpoint Method Description Auth Required Notes <code>/account/me</code> <code>PUT</code> Update user account information \u2705 Yes Only updates fields provided in the request body <p>URL Example: <pre><code>PUT https://instance.tld/api/account/me\n</code></pre></p> <p>Request Body: <pre><code>{\n  \"displayName\": \"string\", // Optional\n  \"password\": \"string\" // Optional\n}\n</code></pre></p> <p>Response Example: <pre><code>{\n  \"success\": true,\n  \"data\": {\n    \"message\": \"Account information updated successfully\"\n  }\n}\n</code></pre></p>"},{"location":"protocol/endpoints/authentication/#session-management","title":"Session Management","text":""},{"location":"protocol/endpoints/authentication/#account-information","title":"Account Information","text":"Endpoint Method Description Auth Required Notes <code>/account/me</code> <code>GET</code> Get authenticated user account information \u2705 Yes Returns identity in @username@instance.tld format <p>URL Example: <pre><code>GET https://instance.tld/api/account/me\n</code></pre></p> <p>Response Example: <pre><code>{\n  \"success\": true,\n  \"data\": {\n    \"identity\": \"@username@instance.tld\",\n    \"displayName\": \"User Display Name\",\n    \"accountCreated\": \"2025-01-01T00:00:00Z\",\n    \"isVerified\": true\n  }\n}\n</code></pre></p>"},{"location":"protocol/endpoints/authentication/#logout","title":"Logout","text":"Endpoint Method Description Auth Required Notes <code>/account/logout</code> <code>POST</code> Log out authenticated user \u2705 Yes Invalidates session token <p>URL Example: <pre><code>POST https://instance.tld/api/account/logout\n</code></pre></p> <p>Response Example: <pre><code>{\n  \"success\": true,\n  \"data\": {\n    \"message\": \"Successfully logged out\"\n  }\n}\n</code></pre></p>"},{"location":"protocol/endpoints/authentication/#account-deletion","title":"Account Deletion","text":""},{"location":"protocol/endpoints/authentication/#delete-user-account","title":"Delete User Account","text":"Endpoint Method Description Auth Required Notes <code>/account/me</code> <code>DELETE</code> Delete user account \u2705 Yes Permanent account deletion <p>URL Example: <pre><code>DELETE https://instance.tld/api/account/me\n</code></pre></p> <p>Request Body: <pre><code>{\n  \"password\": \"string\" // Mandatory\n}\n</code></pre></p> <p>Response Example: <pre><code>{\n  \"success\": true,\n  \"data\": {\n    \"message\": \"Account deleted successfully\"\n  }\n}\n</code></pre></p> <p>Warning</p> <p>Account deletion is permanent and irreversible. All associated data will be lost.</p>"},{"location":"protocol/endpoints/base/","title":"Base API Endpoint","text":"<p>The base endpoint provides essential information about the API and available protocols.</p>"},{"location":"protocol/endpoints/base/#root-endpoint","title":"Root Endpoint","text":"Endpoint Method Description Auth Required <code>/</code> <code>GET</code> Free endpoint \u274c No <p>URL Example: <pre><code>GET https://instance.tld/\n</code></pre></p> <p>Returns, for example, a static HTML page to test API connectivity or to display a welcome message.</p> Endpoint Method Description Auth Required Notes <code>/api</code> <code>GET</code> Base endpoint providing API information and available protocols \u274c No Returns API version and implemented protocols <p>URL Example: <pre><code>GET https://instance.tld/api\n</code></pre></p>"},{"location":"protocol/endpoints/base/#response","title":"Response","text":"<p>The endpoint returns the following information:</p> <ul> <li>API Version - Current implementation version</li> <li>Available Protocols - List of supported protocols (e.g., <code>sapphitalk</code>, <code>sapphitalkplus</code>, <code>sapphisocket</code>)</li> <li>Instance Information - Server instance metadata</li> </ul>"},{"location":"protocol/endpoints/base/#response-example","title":"Response Example","text":"<pre><code>{\n  \"success\": true,\n  \"data\": {\n    \"version\": \"X.X.X\",\n    \"protocols\": [\"sapphitalk\", \"sapphitalkplus\", \"sapphisocket\"],\n    \"instance\": {\n      \"name\": \"Sapphichat Instance\",\n      \"description\": \"A Sapphichat instance\"\n    },\n    \"custom\": {\n      \"hello\": \"Hello community! Welcome to Sapphichat. \ud83c\udff3\ufe0f\u200d\ud83c\udf08\",\n    }\n  }\n}\n</code></pre> <p>You can add custom messages in the \"custom\" key. Use this to display a welcome message or any other information you want to provide to the user, or for technical purposes (for example returning uptime).</p> <p>Clients must ignore the \"custom\" key if they do not recognize its contents.</p>"},{"location":"protocol/endpoints/conversations/","title":"Conversations Management","text":"<p>Conversation endpoints allow you to create, manage, and leave individual or group conversations.</p>"},{"location":"protocol/endpoints/conversations/#creating-conversations","title":"Creating Conversations","text":""},{"location":"protocol/endpoints/conversations/#private-conversation-direct-message","title":"Private Conversation (Direct Message)","text":"Endpoint Method Description Auth Required Notes <code>/conversations/create/dm/:identity</code> <code>POST</code> Create a direct message conversation \u2705 Yes Identity format: @username@instance.tld <p>URL Example: <pre><code>POST https://instance.tld/api/conversations/create/dm/@user@instance.tld\n</code></pre></p> <p>URL Parameters: - <code>identity</code> (required) - Identity of the user with whom to create the conversation</p> <p>Response Example: <pre><code>{\n  \"success\": true,\n  \"data\": {\n    \"conversationId\": \"123e4567-e89b-12d3-a456-426614174000\",\n    \"type\": \"dm\",\n    \"participants\": [\n      \"@user1@instance.tld\",\n      \"@user2@instance.tld\"\n    ],\n    \"createdAt\": \"2025-08-09T12:00:00Z\"\n  }\n}\n</code></pre></p>"},{"location":"protocol/endpoints/conversations/#group-conversation","title":"Group Conversation","text":"Endpoint Method Description Auth Required Notes <code>/conversations/create/group</code> <code>POST</code> Create a group conversation \u2705 Yes Members is an array of identities <p>URL Example: <pre><code>POST https://instance.tld/api/conversations/create/group\n</code></pre></p> <p>Request Body: <pre><code>{\n  \"name\": \"My Group\", // Mandatory\n  \"description\": \"Group description\", // Mandatory\n  \"members\": [\"@user1@instance.tld\", \"@user2@instance.tld\"] // Mandatory\n}\n</code></pre></p> <p>Response Example: <pre><code>{\n  \"success\": true,\n  \"conversationId\": \"conv-456\",\n  \"type\": \"group\",\n  \"name\": \"My Group\",\n  \"description\": \"Group description\",\n  \"members\": [\n    \"@creator@instance.tld\",\n    \"@user1@instance.tld\",\n    \"@user2@instance.tld\"\n  ],\n  \"createdAt\": \"2025-08-09T12:00:00Z\"\n}\n</code></pre></p>"},{"location":"protocol/endpoints/conversations/#managing-conversations","title":"Managing Conversations","text":""},{"location":"protocol/endpoints/conversations/#list-conversations","title":"List Conversations","text":"Endpoint Method Description Auth Required Notes <code>/conversations</code> <code>GET</code> Get list of conversations \u2705 Yes Returns list of conversation IDs <p>URL Example: <pre><code>GET https://instance.tld/api/conversations\n</code></pre></p> <p>Response Example: <pre><code>{\n  \"success\": true,\n  \"data\": {\n    \"conversations\": [\n      {\n        \"conversationId\": \"123e4567-e89b-12d3-a456-426614174000\",\n        \"type\": \"dm\",\n        \"participants\": [\"@user1@instance.tld\", \"@user2@instance.tld\"],\n        \"lastActivity\": \"2025-08-09T11:30:00Z\"\n      },\n      {\n        \"conversationId\": \"123e4567-e89b-12d3-a456-426614174000\",\n        \"type\": \"group\",\n        \"name\": \"My Group\",\n        \"memberCount\": 5,\n        \"lastActivity\": \"2025-08-09T10:15:00Z\"\n      }\n    ]\n  }\n}\n</code></pre></p>"},{"location":"protocol/endpoints/conversations/#leave-conversation","title":"Leave Conversation","text":"Endpoint Method Description Auth Required Notes <code>/conversations/leave/:conversationId</code> <code>POST</code> Leave a conversation \u2705 Yes Leaves the specified conversation <p>URL Example: <pre><code>POST https://instance.tld/api/conversations/leave/123e4567-e89b-12d3-a456-426614174000\n</code></pre></p> <p>URL Parameters: - <code>conversationId</code> (required) - ID of the conversation to leave</p> <p>Response Example: <pre><code>{\n  \"success\": true,\n  \"data\": {\n    \"message\": \"Successfully left conversation\",\n    \"conversationId\": \"123e4567-e89b-12d3-a456-426614174000\"\n  }\n}\n</code></pre></p> <p>Info</p> <ul> <li>For group conversations, leaving removes you from the member list</li> <li>For direct messages, this hides the conversation from your list</li> <li>If you are the last member of a group, the conversation will be deleted</li> </ul>"},{"location":"protocol/endpoints/messages/","title":"Messages Management","text":"<p>Message endpoints allow you to perform all CRUD (Create, Read, Update, Delete) operations on messages within conversations.</p>"},{"location":"protocol/endpoints/messages/#message-operations","title":"Message Operations","text":""},{"location":"protocol/endpoints/messages/#send-message-create","title":"Send Message (Create)","text":"Endpoint Method Description Auth Required Notes <code>/messages/send/:conversationId</code> <code>POST</code> Send a message in a conversation \u2705 Yes Sends a message to the specified conversation <p>URL Example: <pre><code>POST https://instance.tld/api/messages/send/conv-123\n</code></pre></p> <p>URL Parameters: - <code>conversationId</code> (required) - Conversation ID</p> <p>Request Body: <pre><code>{\n  \"content\": \"Hello, how are you?\"\n}\n</code></pre></p> <p>Required Parameters: - <code>content</code> (required) - Message content</p> <p>Response Example: <pre><code>{\n  \"success\": true,\n  \"messageId\": \"msg-789\",\n  \"conversationId\": \"conv-123\",\n  \"content\": \"Hello, how are you?\",\n  \"author\": \"@username@instance.tld\",\n  \"timestamp\": \"2025-08-09T12:00:00Z\"\n}\n</code></pre></p>"},{"location":"protocol/endpoints/messages/#retrieve-messages-read","title":"Retrieve Messages (Read)","text":"Endpoint Method Description Auth Required Notes <code>/messages/:conversationId/:page</code> <code>GET</code> Get messages from a conversation \u2705 Yes Returns message list with pagination <p>URL Example: <pre><code>GET https://instance.tld/api/messages/conv-123/1\n</code></pre></p> <p>URL Parameters: - <code>conversationId</code> (required) - Conversation ID - <code>page</code> (required) - Page number for pagination</p> <p>Pagination System: - Pagination starts at page 1 - Each page contains a fixed number of messages (defined by server) - Messages are sorted from newest to oldest</p> <p>Response Example: <pre><code>{\n  \"success\": true,\n  \"conversationId\": \"conv-123\",\n  \"page\": 1,\n  \"totalPages\": 5,\n  \"messages\": [\n    {\n      \"messageId\": \"msg-789\",\n      \"content\": \"Hello, how are you?\",\n      \"author\": \"@user1@instance.tld\",\n      \"timestamp\": \"2025-08-09T12:00:00Z\",\n      \"edited\": false\n    },\n    {\n      \"messageId\": \"msg-788\",\n      \"content\": \"Good morning!\",\n      \"author\": \"@user2@instance.tld\",\n      \"timestamp\": \"2025-08-09T11:58:00Z\",\n      \"edited\": false\n    }\n  ]\n}\n</code></pre></p>"},{"location":"protocol/endpoints/messages/#edit-message-update","title":"Edit Message (Update)","text":"Endpoint Method Description Auth Required Notes <code>/messages/edit/:conversationId/:messageId</code> <code>PUT</code> Edit a message in a conversation \u2705 Yes Edits the specified message <p>URL Example: <pre><code>PUT https://instance.tld/api/messages/edit/conv-123/msg-789\n</code></pre></p> <p>URL Parameters: - <code>conversationId</code> (required) - Conversation ID - <code>messageId</code> (required) - Message ID to edit</p> <p>Request Body: <pre><code>{\n  \"content\": \"Edited message content\"\n}\n</code></pre></p> <p>Required Parameters: - <code>content</code> (required) - New message content</p> <p>Response Example: <pre><code>{\n  \"success\": true,\n  \"messageId\": \"msg-789\",\n  \"conversationId\": \"conv-123\",\n  \"content\": \"Edited message content\",\n  \"author\": \"@username@instance.tld\",\n  \"timestamp\": \"2025-08-09T12:00:00Z\",\n  \"editedAt\": \"2025-08-09T12:05:00Z\",\n  \"edited\": true\n}\n</code></pre></p>"},{"location":"protocol/endpoints/messages/#delete-message-delete","title":"Delete Message (Delete)","text":"Endpoint Method Description Auth Required Notes <code>/messages/delete/:conversationId/:messageId</code> <code>DELETE</code> Delete a message from a conversation \u2705 Yes Deletes the specified message from the conversation <p>URL Example: <pre><code>DELETE https://instance.tld/api/messages/delete/conv-123/msg-789\n</code></pre></p> <p>URL Parameters: - <code>conversationId</code> (required) - Conversation ID - <code>messageId</code> (required) - Message ID to delete</p> <p>Response Example: <pre><code>{\n  \"success\": true,\n  \"message\": \"Message deleted successfully\",\n  \"messageId\": \"msg-789\",\n  \"conversationId\": \"conv-123\"\n}\n</code></pre></p>"},{"location":"protocol/endpoints/messages/#permissions-and-restrictions","title":"Permissions and Restrictions","text":"<p>Permissions</p> <ul> <li>Edit : Only the message author can edit it</li> <li>Delete : Only the message author or a conversation administrator can delete a message</li> <li>Read : Only conversation members can read messages</li> </ul> <p>Limitations</p> <ul> <li>Messages may have a maximum size (defined by server)</li> <li>There may be a time limit for editing or deleting messages</li> <li>Certain content types may be restricted (links, media, etc.)</li> </ul>"},{"location":"protocol/endpoints/messages/#crud-operations","title":"CRUD Operations","text":"<p>This section follows the standard CRUD model:</p> <ul> <li>Create \u2192 <code>POST /messages/send/:conversationId</code></li> <li>Read \u2192 <code>GET /messages/:conversationId/:page</code></li> <li>Update \u2192 <code>PUT /messages/edit/:conversationId/:messageId</code></li> <li>Delete \u2192 <code>DELETE /messages/delete/:conversationId/:messageId</code></li> </ul>"}]}